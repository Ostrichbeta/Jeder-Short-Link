import{a as M,ax as gt,ay as Bt,c as yt,a3 as Mt,az as Dt,a7 as _t,aA as bt,r as R,q as ye,ac as Nt,d as wt,h as m,l as xt,aB as kt,X as ut,aC as Et,ah as He,w as Zt,S as te,aD as zt}from"./index.15d47e0f.js";import{p as Y,T as Lt}from"./ClosePopup.e45e374b.js";const ie=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Pt(e,u,v){return Object.prototype.toString.call(e)==="[object Date]"&&(v=e.getDate(),u=e.getMonth()+1,e=e.getFullYear()),Xt(rt(e,u,v))}function st(e,u,v){return Ct(Rt(e,u,v))}function Qt(e){return Kt(e)===0}function Je(e,u){return u<=6?31:u<=11||Qt(e)?30:29}function Kt(e){const u=ie.length;let v=ie[0],c,h,i,w,f;if(e<v||e>=ie[u-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<u&&(c=ie[f],h=c-v,!(e<c));f+=1)v=c;return w=e-v,h-w<6&&(w=w-h+I(h+4,33)*33),i=X(X(w+1,33)-1,4),i===-1&&(i=4),i}function qt(e,u){const v=ie.length,c=e+621;let h=-14,i=ie[0],w,f,_,T,y;if(e<i||e>=ie[v-1])throw new Error("Invalid Jalaali year "+e);for(y=1;y<v&&(w=ie[y],f=w-i,!(e<w));y+=1)h=h+I(f,33)*8+I(X(f,33),4),i=w;T=e-i,h=h+I(T,33)*8+I(X(T,33)+3,4),X(f,33)===4&&f-T===4&&(h+=1);const q=I(c,4)-I((I(c,100)+1)*3,4)-150,L=20+h-q;return u||(f-T<6&&(T=T-f+I(f+4,33)*33),_=X(X(T+1,33)-1,4),_===-1&&(_=4)),{leap:_,gy:c,march:L}}function Rt(e,u,v){const c=qt(e,!0);return rt(c.gy,3,c.march)+(u-1)*31-I(u,7)*(u-7)+v-1}function Xt(e){const u=Ct(e).gy;let v=u-621,c,h,i;const w=qt(v,!1),f=rt(u,3,w.march);if(i=e-f,i>=0){if(i<=185)return h=1+I(i,31),c=X(i,31)+1,{jy:v,jm:h,jd:c};i-=186}else v-=1,i+=179,w.leap===1&&(i+=1);return h=7+I(i,30),c=X(i,30)+1,{jy:v,jm:h,jd:c}}function rt(e,u,v){let c=I((e+I(u-8,6)+100100)*1461,4)+I(153*X(u+9,12)+2,5)+v-34840408;return c=c-I(I(e+100100+I(u-8,6),100)*3,4)+752,c}function Ct(e){let u=4*e+139361631;u=u+I(I(4*e+183187720,146097)*3,4)*4-3908;const v=I(X(u,1461),4)*5+308,c=I(X(v,153),5)+1,h=X(I(v,153),12)+1;return{gy:I(u,1461)-100100+I(8-h,6),gm:h,gd:c}}function I(e,u){return~~(e/u)}function X(e,u){return e-~~(e/u)*u}const Wt=["gregorian","persian"],Ue={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Wt.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Yt=["update:modelValue"];function ne(e){return e.year+"/"+Y(e.month)+"/"+Y(e.day)}function St(e,u){const v=M(()=>e.disable!==!0&&e.readonly!==!0),c=M(()=>v.value===!0?0:-1),h=M(()=>{const f=[];return e.color!==void 0&&f.push(`bg-${e.color}`),e.textColor!==void 0&&f.push(`text-${e.textColor}`),f.join(" ")});function i(){return e.locale!==void 0?{...u.lang.date,...e.locale}:u.lang.date}function w(f){const _=new Date,T=f===!0?null:0;if(e.calendar==="persian"){const y=Pt(_);return{year:y.jy,month:y.jm,day:y.jd}}return{year:_.getFullYear(),month:_.getMonth()+1,day:_.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:v,tabindex:c,headerClass:h,getLocale:i,getCurrentDate:w}}const Ht=864e5,Jt=36e5,ot=6e4,Ot="YYYY-MM-DDTHH:mm:ss.SSSZ",Ut=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,pt=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,nt={};function Gt(e,u){const v="("+u.days.join("|")+")",c=e+v;if(nt[c]!==void 0)return nt[c];const h="("+u.daysShort.join("|")+")",i="("+u.months.join("|")+")",w="("+u.monthsShort.join("|")+")",f={};let _=0;const T=e.replace(pt,q=>{switch(_++,q){case"YY":return f.YY=_,"(-?\\d{1,2})";case"YYYY":return f.YYYY=_,"(-?\\d{1,4})";case"M":return f.M=_,"(\\d{1,2})";case"MM":return f.M=_,"(\\d{2})";case"MMM":return f.MMM=_,w;case"MMMM":return f.MMMM=_,i;case"D":return f.D=_,"(\\d{1,2})";case"Do":return f.D=_++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return f.D=_,"(\\d{2})";case"H":return f.H=_,"(\\d{1,2})";case"HH":return f.H=_,"(\\d{2})";case"h":return f.h=_,"(\\d{1,2})";case"hh":return f.h=_,"(\\d{2})";case"m":return f.m=_,"(\\d{1,2})";case"mm":return f.m=_,"(\\d{2})";case"s":return f.s=_,"(\\d{1,2})";case"ss":return f.s=_,"(\\d{2})";case"S":return f.S=_,"(\\d{1})";case"SS":return f.S=_,"(\\d{2})";case"SSS":return f.S=_,"(\\d{3})";case"A":return f.A=_,"(AM|PM)";case"a":return f.a=_,"(am|pm)";case"aa":return f.aa=_,"(a\\.m\\.|p\\.m\\.)";case"ddd":return h;case"dddd":return v;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return f.Z=_,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return f.ZZ=_,"(Z|[+-]\\d{2}\\d{2})";case"X":return f.X=_,"(-?\\d+)";case"x":return f.x=_,"(-?\\d{4,})";default:return _--,q[0]==="["&&(q=q.substring(1,q.length-1)),q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),y={map:f,regex:new RegExp("^"+T)};return nt[c]=y,y}function It(e,u){return e!==void 0?e:u!==void 0?u.date:Bt.date}function ct(e,u=""){const v=e>0?"-":"+",c=Math.abs(e),h=Math.floor(c/60),i=c%60;return v+Y(h)+u+Y(i)}function Fe(e,u,v,c,h){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(h!==void 0&&Object.assign(i,h),e==null||e===""||typeof e!="string")return i;u===void 0&&(u=Ot);const w=It(v,gt.props),f=w.months,_=w.monthsShort,{regex:T,map:y}=Gt(u,w),q=e.match(T);if(q===null)return i;let L="";if(y.X!==void 0||y.x!==void 0){const N=parseInt(q[y.X!==void 0?y.X:y.x],10);if(isNaN(N)===!0||N<0)return i;const P=new Date(N*(y.X!==void 0?1e3:1));i.year=P.getFullYear(),i.month=P.getMonth()+1,i.day=P.getDate(),i.hour=P.getHours(),i.minute=P.getMinutes(),i.second=P.getSeconds(),i.millisecond=P.getMilliseconds()}else{if(y.YYYY!==void 0)i.year=parseInt(q[y.YYYY],10);else if(y.YY!==void 0){const N=parseInt(q[y.YY],10);i.year=N<0?N:2e3+N}if(y.M!==void 0){if(i.month=parseInt(q[y.M],10),i.month<1||i.month>12)return i}else y.MMM!==void 0?i.month=_.indexOf(q[y.MMM])+1:y.MMMM!==void 0&&(i.month=f.indexOf(q[y.MMMM])+1);if(y.D!==void 0){if(i.day=parseInt(q[y.D],10),i.year===null||i.month===null||i.day<1)return i;const N=c!=="persian"?new Date(i.year,i.month,0).getDate():Je(i.year,i.month);if(i.day>N)return i}y.H!==void 0?i.hour=parseInt(q[y.H],10)%24:y.h!==void 0&&(i.hour=parseInt(q[y.h],10)%12,(y.A&&q[y.A]==="PM"||y.a&&q[y.a]==="pm"||y.aa&&q[y.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),y.m!==void 0&&(i.minute=parseInt(q[y.m],10)%60),y.s!==void 0&&(i.second=parseInt(q[y.s],10)%60),y.S!==void 0&&(i.millisecond=parseInt(q[y.S],10)*10**(3-q[y.S].length)),(y.Z!==void 0||y.ZZ!==void 0)&&(L=y.Z!==void 0?q[y.Z].replace(":",""):q[y.ZZ],i.timezoneOffset=(L[0]==="+"?-1:1)*(60*L.slice(1,3)+1*L.slice(3,5)))}return i.dateHash=Y(i.year,6)+"/"+Y(i.month)+"/"+Y(i.day),i.timeHash=Y(i.hour)+":"+Y(i.minute)+":"+Y(i.second)+L,i}function dt(e){const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());u.setDate(u.getDate()-(u.getDay()+6)%7+3);const v=new Date(u.getFullYear(),0,4);v.setDate(v.getDate()-(v.getDay()+6)%7+3);const c=u.getTimezoneOffset()-v.getTimezoneOffset();u.setHours(u.getHours()-c);const h=(u-v)/(Ht*7);return 1+Math.floor(h)}function le(e,u,v){const c=new Date(e),h=`set${v===!0?"UTC":""}`;switch(u){case"year":case"years":c[`${h}Month`](0);case"month":case"months":c[`${h}Date`](1);case"day":case"days":case"date":c[`${h}Hours`](0);case"hour":case"hours":c[`${h}Minutes`](0);case"minute":case"minutes":c[`${h}Seconds`](0);case"second":case"seconds":c[`${h}Milliseconds`](0)}return c}function We(e,u,v){return(e.getTime()-e.getTimezoneOffset()*ot-(u.getTime()-u.getTimezoneOffset()*ot))/v}function Vt(e,u,v="days"){const c=new Date(e),h=new Date(u);switch(v){case"years":case"year":return c.getFullYear()-h.getFullYear();case"months":case"month":return(c.getFullYear()-h.getFullYear())*12+c.getMonth()-h.getMonth();case"days":case"day":case"date":return We(le(c,"day"),le(h,"day"),Ht);case"hours":case"hour":return We(le(c,"hour"),le(h,"hour"),Jt);case"minutes":case"minute":return We(le(c,"minute"),le(h,"minute"),ot);case"seconds":case"second":return We(le(c,"second"),le(h,"second"),1e3)}}function vt(e){return Vt(e,le(e,"year"),"days")+1}function ft(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const mt={YY(e,u,v){const c=this.YYYY(e,u,v)%100;return c>=0?Y(c):"-"+Y(Math.abs(c))},YYYY(e,u,v){return v!=null?v:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Y(e.getMonth()+1)},MMM(e,u){return u.monthsShort[e.getMonth()]},MMMM(e,u){return u.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ft(this.Q(e))},D(e){return e.getDate()},Do(e){return ft(e.getDate())},DD(e){return Y(e.getDate())},DDD(e){return vt(e)},DDDD(e){return Y(vt(e),3)},d(e){return e.getDay()},dd(e,u){return this.dddd(e,u).slice(0,2)},ddd(e,u){return u.daysShort[e.getDay()]},dddd(e,u){return u.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return dt(e)},ww(e){return Y(dt(e))},H(e){return e.getHours()},HH(e){return Y(e.getHours())},h(e){const u=e.getHours();return u===0?12:u>12?u%12:u},hh(e){return Y(this.h(e))},m(e){return e.getMinutes()},mm(e){return Y(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Y(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Y(Math.floor(e.getMilliseconds()/10))},SSS(e){return Y(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,u,v,c){const h=c==null?e.getTimezoneOffset():c;return ct(h,":")},ZZ(e,u,v,c){const h=c==null?e.getTimezoneOffset():c;return ct(h)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Tt(e,u,v,c,h){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;u===void 0&&(u=Ot);const w=It(v,gt.props);return u.replace(Ut,(f,_)=>f in mt?mt[f](i,w,c,h):_===void 0?f:_.split("\\]").join("]"))}function ea(e,u){if(e.hour!==null){if(e.minute===null)return"minute";if(u===!0&&e.second===null)return"second"}return"hour"}function ta(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var oa=yt({name:"QTime",props:{...Mt,...Dt,...Ue,modelValue:{required:!0,validator:e=>typeof e=="string"||e===null},mask:{...Ue.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Yt,setup(e,{slots:u,emit:v}){const c=xt(),{$q:h}=c.proxy,i=_t(e,h),{tabindex:w,headerClass:f,getLocale:_,getCurrentDate:T}=St(e,h),y=bt(e),q=kt(y);let L,N;const P=R(null),W=M(()=>Ze()),V=M(()=>_()),Be=M(()=>_e()),Me=Fe(e.modelValue,W.value,V.value,e.calendar,Be.value),x=R(ea(Me)),o=R(Me),H=R(Me.hour===null||Me.hour<12),Ne=M(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(i.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ue=M(()=>{const l=o.value;return{hour:l.hour===null?"--":E.value===!0?Y(l.hour):String(H.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":Y(l.minute),second:l.second===null?"--":Y(l.second)}}),E=M(()=>e.format24h!==null?e.format24h:h.lang.date.format24h),Oe=M(()=>{const l=x.value==="hour",r=l===!0?12:60,D=o.value[x.value];let j=`rotate(${Math.round(D*(360/r))-180}deg) translateX(-50%)`;return l===!0&&E.value===!0&&o.value.hour>=12&&(j+=" scale(.7)"),{transform:j}}),se=M(()=>o.value.hour!==null),Z=M(()=>se.value===!0&&o.value.minute!==null),ce=M(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),J=M(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,l,null):null),U=M(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,o.value.minute,l):null),z=M(()=>{if(ce.value===null)return null;const l=de(0,11,ce.value),r=de(12,11,ce.value);return{am:l,pm:r,values:l.values.concat(r.values)}}),ae=M(()=>J.value!==null?de(0,59,J.value):null),B=M(()=>U.value!==null?de(0,59,U.value):null),p=M(()=>{switch(x.value){case"hour":return z.value;case"minute":return ae.value;case"second":return B.value}}),De=M(()=>{let l,r,D=0,C=1;const j=p.value!==null?p.value.values:void 0;x.value==="hour"?E.value===!0?(l=0,r=23):(l=0,r=11,H.value===!1&&(D=12)):(l=0,r=55,C=5);const K=[];for(let b=l,$=l;b<=r;b+=C,$++){const ee=b+D,Ce=j!==void 0&&j.includes(ee)===!1,Xe=x.value==="hour"&&b===0?E.value===!0?"00":"12":b;K.push({val:ee,index:$,disable:Ce,label:Xe})}return K}),Ie=M(()=>[[Lt,G,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ye(()=>e.modelValue,l=>{const r=Fe(l,W.value,V.value,e.calendar,Be.value);(r.dateHash!==o.value.dateHash||r.timeHash!==o.value.timeHash)&&(o.value=r,r.hour===null?x.value="hour":H.value=r.hour<12)}),ye([W,V],()=>{ut(()=>{qe()})});function oe(){const l={...T(),...ta()};qe(l),Object.assign(o.value,l),x.value="hour"}function de(l,r,D){const C=Array.apply(null,{length:r+1}).map((j,K)=>{const b=K+l;return{index:b,val:D(b)===!0}}).filter(j=>j.val===!0).map(j=>j.index);return{min:C[0],max:C[C.length-1],values:C,threshold:r+1}}function Ee(l,r,D){const C=Math.abs(l-r);return Math.min(C,D-C)}function Ve(l,{min:r,max:D,values:C,threshold:j}){if(l===r)return r;if(l<r||l>D)return Ee(l,r,j)<=Ee(l,D,j)?r:D;const K=C.findIndex(ee=>l<=ee),b=C[K-1],$=C[K];return l-b<=$-l?b:$}function Ze(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function _e(){if(typeof e.defaultDate!="string"){const l=T(!0);return l.dateHash=ne(l),l}return Fe(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function be(){return Et(c)===!0||p.value!==null&&(p.value.values.length===0||x.value==="hour"&&E.value!==!0&&z.value[H.value===!0?"am":"pm"].values.length===0)}function Te(){const l=P.value,{top:r,left:D,width:C}=l.getBoundingClientRect(),j=C/2;return{top:r+j,left:D+j,dist:j*.7}}function G(l){if(be()!==!0){if(l.isFirst===!0){L=Te(),N=A(l.evt,L);return}N=A(l.evt,L,N),l.isFinal===!0&&(L=!1,N=null,ze())}}function ze(){x.value==="hour"?x.value="minute":e.withSeconds&&x.value==="minute"&&(x.value="second")}function A(l,r,D){const C=Nt(l),j=Math.abs(C.top-r.top),K=Math.sqrt(Math.pow(Math.abs(C.top-r.top),2)+Math.pow(Math.abs(C.left-r.left),2));let b,$=Math.asin(j/K)*(180/Math.PI);if(C.top<r.top?$=r.left<C.left?90-$:270+$:$=r.left<C.left?$+90:270-$,x.value==="hour"){if(b=$/30,z.value!==null){const ee=E.value!==!0?H.value===!0:z.value.am.values.length!==0&&z.value.pm.values.length!==0?K>=r.dist:z.value.am.values.length!==0;b=Ve(b+(ee===!0?0:12),z.value[ee===!0?"am":"pm"])}else b=Math.round(b),E.value===!0?K<r.dist?b<12&&(b+=12):b===12&&(b=0):H.value===!0&&b===12?b=0:H.value===!1&&b!==12&&(b+=12);E.value===!0&&(H.value=b<12)}else b=Math.round($/6)%60,x.value==="minute"&&ae.value!==null?b=Ve(b,ae.value):x.value==="second"&&B.value!==null&&(b=Ve(b,B.value));return D!==b&&Pe[x.value](b),b}const F={hour(){x.value="hour"},minute(){x.value="minute"},second(){x.value="second"}};function je(l){l.keyCode===13&&Qe()}function we(l){l.keyCode===13&&Ke()}function Le(l){be()!==!0&&(h.platform.is.desktop!==!0&&A(l,Te()),ze())}function ve(l){be()!==!0&&A(l,Te())}function Q(l){if(l.keyCode===13)x.value="hour";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(z.value!==null){const D=E.value===!0?z.value.values:z.value[H.value===!0?"am":"pm"].values;if(D.length===0)return;if(o.value.hour===null)xe(D[0]);else{const C=(D.length+D.indexOf(o.value.hour)+r)%D.length;xe(D[C])}}else{const D=E.value===!0?24:12,C=E.value!==!0&&H.value===!1?12:0,j=o.value.hour===null?-r:o.value.hour;xe(C+(24+j+r)%D)}}}function pe(l){if(l.keyCode===13)x.value="minute";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(ae.value!==null){const D=ae.value.values;if(D.length===0)return;if(o.value.minute===null)fe(D[0]);else{const C=(D.length+D.indexOf(o.value.minute)+r)%D.length;fe(D[C])}}else{const D=o.value.minute===null?-r:o.value.minute;fe((60+D+r)%60)}}}function Ge(l){if(l.keyCode===13)x.value="second";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(B.value!==null){const D=B.value.values;if(D.length===0)return;if(o.value.seconds===null)ke(D[0]);else{const C=(D.length+D.indexOf(o.value.second)+r)%D.length;ke(D[C])}}else{const D=o.value.second===null?-r:o.value.second;ke((60+D+r)%60)}}}function xe(l){o.value.hour!==l&&(o.value.hour=l,he())}function fe(l){o.value.minute!==l&&(o.value.minute=l,he())}function ke(l){o.value.second!==l&&(o.value.second=l,he())}const Pe={hour:xe,minute:fe,second:ke};function Qe(){H.value===!1&&(H.value=!0,o.value.hour!==null&&(o.value.hour-=12,he()))}function Ke(){H.value===!0&&(H.value=!1,o.value.hour!==null&&(o.value.hour+=12,he()))}function me(l){const r=e.modelValue;x.value!==l&&r!==void 0&&r!==null&&r!==""&&typeof r!="string"&&(x.value=l)}function he(){if(ce.value!==null&&ce.value(o.value.hour)!==!0){o.value=Fe(),me("hour");return}if(J.value!==null&&J.value(o.value.minute)!==!0){o.value.minute=null,o.value.second=null,me("minute");return}if(e.withSeconds===!0&&U.value!==null&&U.value(o.value.second)!==!0){o.value.second=null,me("second");return}o.value.hour===null||o.value.minute===null||e.withSeconds===!0&&o.value.second===null||qe()}function qe(l){const r=Object.assign({...o.value},l),D=e.calendar==="persian"?Y(r.hour)+":"+Y(r.minute)+(e.withSeconds===!0?":"+Y(r.second):""):Tt(new Date(r.year,r.month===null?null:r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),W.value,V.value,r.year,r.timezoneOffset);r.changed=D!==e.modelValue,v("update:modelValue",D,r)}function $e(){const l=[m("div",{class:"q-time__link "+(x.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:w.value,onClick:F.hour,onKeyup:Q},ue.value.hour),m("div",":"),m("div",se.value===!0?{class:"q-time__link "+(x.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:w.value,onKeyup:pe,onClick:F.minute}:{class:"q-time__link"},ue.value.minute)];e.withSeconds===!0&&l.push(m("div",":"),m("div",Z.value===!0?{class:"q-time__link "+(x.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:w.value,onKeyup:Ge,onClick:F.second}:{class:"q-time__link"},ue.value.second));const r=[m("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return E.value===!1&&r.push(m("div",{class:"q-time__header-ampm column items-between no-wrap"},[m("div",{class:"q-time__link "+(H.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:w.value,onClick:Qe,onKeyup:je},"AM"),m("div",{class:"q-time__link "+(H.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:w.value,onClick:Ke,onKeyup:we},"PM")])),m("div",{class:"q-time__header flex flex-center no-wrap "+f.value},r)}function Re(){const l=o.value[x.value];return m("div",{class:"q-time__content col relative-position"},[m(He,{name:"q-transition--scale"},()=>m("div",{key:"clock"+x.value,class:"q-time__container-parent absolute-full"},[m("div",{ref:P,class:"q-time__container-child fit overflow-hidden"},[Zt(m("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Le,onMousedown:ve},[m("div",{class:"q-time__clock-circle fit"},[m("div",{class:"q-time__clock-pointer"+(o.value[x.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Oe.value}),De.value.map(r=>m("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${r.index}`+(r.val===l?" q-time__clock-position--active "+f.value:r.disable===!0?" q-time__clock-position--disable":"")},[m("span",r.label)]))])]),Ie.value)])])),e.nowBtn===!0?m(te,{class:"q-time__now-button absolute",icon:h.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:w.value,onClick:oe}):null])}return c.proxy.setNow=oe,()=>{const l=[Re()],r=wt(u.default);return r!==void 0&&l.push(m("div",{class:"q-time__actions"},r)),e.name!==void 0&&e.disable!==!0&&q(l,"push"),m("div",{class:Ne.value,tabindex:-1},[$e(),m("div",{class:"q-time__main col overflow-auto"},l)])}}});function aa(){let e=Object.create(null);return{getCache:(u,v)=>e[u]===void 0?e[u]=typeof v=="function"?v():v:e[u],setCache(u,v){e[u]=v},hasCache(u){return Object.hasOwnProperty.call(e,u)},clearCache(u){u!==void 0?delete e[u]:e=Object.create(null)}}}const ge=20,na=["Calendar","Years","Months"],ht=e=>na.includes(e),lt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Se=" \u2014 ";function re(e){return e.year+"/"+Y(e.month)}var ra=yt({name:"QDate",props:{...Ue,...Dt,...Mt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Ue.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:lt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:lt},navigationMaxYearMonth:{type:String,validator:lt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ht}},emits:[...Yt,"rangeStart","rangeEnd","navigation"],setup(e,{slots:u,emit:v}){const{proxy:c}=xt(),{$q:h}=c,i=_t(e,h),{getCache:w}=aa(),{tabindex:f,headerClass:_,getLocale:T,getCurrentDate:y}=St(e,h);let q;const L=bt(e),N=kt(L),P=R(null),W=R(qe()),V=R(T()),Be=M(()=>qe()),Me=M(()=>T()),x=M(()=>y()),o=R(Re(W.value,V.value)),H=R(e.defaultView),Ne=M(()=>h.lang.rtl===!0?"right":"left"),ue=R(Ne.value),E=R(Ne.value),Oe=o.value.year,se=R(Oe-Oe%ge-(Oe<0?ge:0)),Z=R(null),ce=M(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),J=M(()=>e.color||"primary"),U=M(()=>e.textColor||"white"),z=M(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ae=M(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),B=M(()=>ae.value.filter(t=>typeof t=="string").map(t=>$e(t,W.value,V.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),p=M(()=>{const t=a=>$e(a,W.value,V.value);return ae.value.filter(a=>zt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),De=M(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=st(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Ie=M(()=>e.calendar==="persian"?ne:(t,a,n)=>Tt(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?W.value:a,n===void 0?V.value:n,t.year,t.timezoneOffset)),oe=M(()=>B.value.length+p.value.reduce((t,a)=>t+1+Vt(De.value(a.to),De.value(a.from)),0)),de=M(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(Z.value!==null){const n=Z.value.init,s=De.value(n);return V.value.daysShort[s.getDay()]+", "+V.value.monthsShort[n.month-1]+" "+n.day+Se+"?"}if(oe.value===0)return Se;if(oe.value>1)return`${oe.value} ${V.value.pluralDay}`;const t=B.value[0],a=De.value(t);return isNaN(a.valueOf())===!0?Se:V.value.headerTitle!==void 0?V.value.headerTitle(a,t):V.value.daysShort[a.getDay()]+", "+V.value.monthsShort[t.month-1]+" "+t.day}),Ee=M(()=>B.value.concat(p.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),Ve=M(()=>B.value.concat(p.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),Ze=M(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(oe.value===0)return Se;if(oe.value>1){const t=Ee.value,a=Ve.value,n=V.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+Se+n[a.month-1]+" ":t.month!==a.month?Se+n[a.month-1]:"")+" "+a.year}return B.value[0].year}),_e=M(()=>{const t=[h.iconSet.datetime.arrowLeft,h.iconSet.datetime.arrowRight];return h.lang.rtl===!0?t.reverse():t}),be=M(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):V.value.firstDayOfWeek),Te=M(()=>{const t=V.value.daysShort,a=be.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),G=M(()=>{const t=o.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Je(t.year,t.month)}),ze=M(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),A=M(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),F=M(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),je=M(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return A.value!==null&&A.value.year>=o.value.year&&(t.year.prev=!1,A.value.year===o.value.year&&A.value.month>=o.value.month&&(t.month.prev=!1)),F.value!==null&&F.value.year<=o.value.year&&(t.year.next=!1,F.value.year===o.value.year&&F.value.month<=o.value.month&&(t.month.next=!1)),t}),we=M(()=>{const t={};return B.value.forEach(a=>{const n=re(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),Le=M(()=>{const t={};return p.value.forEach(a=>{const n=re(a.from),s=re(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===s?a.to.day:void 0,range:a}),n<s){let d;const{year:S,month:g}=a.from,k=g<12?{year:S,month:g+1}:{year:S+1,month:1};for(;(d=re(k))<=s;)t[d]===void 0&&(t[d]=[]),t[d].push({from:void 0,to:d===s?a.to.day:void 0,range:a}),k.month++,k.month>12&&(k.year++,k.month=1)}}),t}),ve=M(()=>{if(Z.value===null)return;const{init:t,initHash:a,final:n,finalHash:s}=Z.value,[d,S]=a<=s?[t,n]:[n,t],g=re(d),k=re(S);if(g!==Q.value&&k!==Q.value)return;const O={};return g===Q.value?(O.from=d.day,O.includeFrom=!0):O.from=1,k===Q.value?(O.to=S.day,O.includeTo=!0):O.to=G.value,O}),Q=M(()=>re(o.value)),pe=M(()=>{const t={};if(e.options===void 0){for(let n=1;n<=G.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=G.value;n++){const s=Q.value+"/"+Y(n);t[n]=a(s)}return t}),Ge=M(()=>{const t={};if(e.events===void 0)for(let a=1;a<=G.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=G.value;n++){const s=Q.value+"/"+Y(n);t[n]=a(s)===!0&&ze.value(s)}}return t}),xe=M(()=>{let t,a;const{year:n,month:s}=o.value;if(e.calendar!=="persian")t=new Date(n,s-1,1),a=new Date(n,s-1,0).getDate();else{const d=st(n,s,1);t=new Date(d.gy,d.gm-1,d.gd);let S=s-1,g=n;S===0&&(S=12,g--),a=Je(g,S)}return{days:t.getDay()-be.value-1,endDay:a}}),fe=M(()=>{const t=[],{days:a,endDay:n}=xe.value,s=a<0?a+7:a;if(s<6)for(let g=n-s;g<=n;g++)t.push({i:g,fill:!0});const d=t.length;for(let g=1;g<=G.value;g++){const k={i:g,event:Ge.value[g],classes:[]};pe.value[g]===!0&&(k.in=!0,k.flat=!0),t.push(k)}if(we.value[Q.value]!==void 0&&we.value[Q.value].forEach(g=>{const k=d+g-1;Object.assign(t[k],{selected:!0,unelevated:!0,flat:!1,color:J.value,textColor:U.value})}),Le.value[Q.value]!==void 0&&Le.value[Q.value].forEach(g=>{if(g.from!==void 0){const k=d+g.from-1,O=d+(g.to||G.value)-1;for(let Ae=k;Ae<=O;Ae++)Object.assign(t[Ae],{range:g.range,unelevated:!0,color:J.value,textColor:U.value});Object.assign(t[k],{rangeFrom:!0,flat:!1}),g.to!==void 0&&Object.assign(t[O],{rangeTo:!0,flat:!1})}else if(g.to!==void 0){const k=d+g.to-1;for(let O=d;O<=k;O++)Object.assign(t[O],{range:g.range,unelevated:!0,color:J.value,textColor:U.value});Object.assign(t[k],{flat:!1,rangeTo:!0})}else{const k=d+G.value-1;for(let O=d;O<=k;O++)Object.assign(t[O],{range:g.range,unelevated:!0,color:J.value,textColor:U.value})}}),ve.value!==void 0){const g=d+ve.value.from-1,k=d+ve.value.to-1;for(let O=g;O<=k;O++)t[O].color=J.value,t[O].editRange=!0;ve.value.includeFrom===!0&&(t[g].editRangeFrom=!0),ve.value.includeTo===!0&&(t[k].editRangeTo=!0)}o.value.year===x.value.year&&o.value.month===x.value.month&&(t[d+x.value.day-1].today=!0);const S=t.length%7;if(S>0){const g=7-S;for(let k=1;k<=g;k++)t.push({i:k,fill:!0})}return t.forEach(g=>{let k="q-date__calendar-item ";g.fill===!0?k+="q-date__calendar-item--fill":(k+=`q-date__calendar-item--${g.in===!0?"in":"out"}`,g.range!==void 0&&(k+=` q-date__range${g.rangeTo===!0?"-to":g.rangeFrom===!0?"-from":""}`),g.editRange===!0&&(k+=` q-date__edit-range${g.editRangeFrom===!0?"-from":""}${g.editRangeTo===!0?"-to":""}`),(g.range!==void 0||g.editRange===!0)&&(k+=` text-${g.color}`)),g.classes=k}),t}),ke=M(()=>e.disable===!0?{"aria-disabled":"true"}:{});ye(()=>e.modelValue,t=>{if(q===t)q=0;else{const a=Re(W.value,V.value);$(a.year,a.month,a)}}),ye(H,()=>{P.value!==null&&c.$el.contains(document.activeElement)===!0&&P.value.focus()}),ye(()=>o.value.year+"|"+o.value.month,()=>{v("navigation",{year:o.value.year,month:o.value.month})}),ye(Be,t=>{it(t,V.value,"mask"),W.value=t}),ye(Me,t=>{it(W.value,t,"locale"),V.value=t});function Pe(){const{year:t,month:a,day:n}=x.value,s={...o.value,year:t,month:a,day:n},d=we.value[re(s)];(d===void 0||d.includes(s.day)===!1)&&et(s),me(s.year,s.month)}function Qe(t){ht(t)===!0&&(H.value=t)}function Ke(t,a){["month","year"].includes(t)&&(t==="month"?r:D)(a===!0?-1:1)}function me(t,a){H.value="Calendar",$(t,a)}function he(t,a){if(e.range===!1||!t){Z.value=null;return}const n=Object.assign({...o.value},t),s=a!==void 0?Object.assign({...o.value},a):n;Z.value={init:n,initHash:ne(n),final:s,finalHash:ne(s)},me(n.year,n.month)}function qe(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function $e(t,a,n){return Fe(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Re(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return l();const s=n[n.length-1],d=$e(s.from!==void 0?s.from:s,t,a);return d.dateHash===null?l():d}function l(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=x.value!==void 0?x.value:y();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Y(a)+"/01"}}function r(t){let a=o.value.year,n=Number(o.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),$(a,n),z.value===!0&&Ce("month")}function D(t){const a=Number(o.value.year)+t;$(a,o.value.month),z.value===!0&&Ce("year")}function C(t){$(t,o.value.month),H.value=e.defaultView==="Years"?"Months":"Calendar",z.value===!0&&Ce("year")}function j(t){$(o.value.year,t),H.value="Calendar",z.value===!0&&Ce("month")}function K(t,a){const n=we.value[a];(n!==void 0&&n.includes(t.day)===!0?tt:et)(t)}function b(t){return{year:t.year,month:t.month,day:t.day}}function $(t,a,n){if(A.value!==null&&t<=A.value.year&&((a<A.value.month||t<A.value.year)&&(a=A.value.month),t=A.value.year),F.value!==null&&t>=F.value.year&&((a>F.value.month||t>F.value.year)&&(a=F.value.month),t=F.value.year),n!==void 0){const{hour:d,minute:S,second:g,millisecond:k,timezoneOffset:O,timeHash:Ae}=n;Object.assign(o.value,{hour:d,minute:S,second:g,millisecond:k,timezoneOffset:O,timeHash:Ae})}const s=t+"/"+Y(a)+"/01";s!==o.value.dateHash&&(ue.value=o.value.dateHash<s==(h.lang.rtl!==!0)?"left":"right",t!==o.value.year&&(E.value=ue.value),ut(()=>{se.value=t-t%ge-(t<0?ge:0),Object.assign(o.value,{year:t,month:a,day:1,dateHash:s})}))}function ee(t,a,n){const s=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;q=s;const{reason:d,details:S}=Xe(a,n);v("update:modelValue",s,d,S)}function Ce(t){const a=B.value[0]!==void 0&&B.value[0].dateHash!==null?{...B.value[0]}:{...o.value};ut(()=>{a.year=o.value.year,a.month=o.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Je(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const s=Ye(a);q=s;const{details:d}=Xe("",a);v("update:modelValue",s,t,d)})}function Xe(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...b(a.target),from:b(a.from),to:b(a.to)}}:{reason:`${t}-day`,details:b(a)}}function Ye(t,a,n){return t.from!==void 0?{from:Ie.value(t.from,a,n),to:Ie.value(t.to,a,n)}:Ie.value(t,a,n)}function et(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=ne(t.from),s=ne(t.to),d=B.value.filter(g=>g.dateHash<n||g.dateHash>s),S=p.value.filter(({from:g,to:k})=>k.dateHash<n||g.dateHash>s);a=d.concat(S).concat(t).map(g=>Ye(g))}else{const n=ae.value.slice();n.push(Ye(t)),a=n}else a=Ye(t);ee(a,"add",t)}function tt(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=Ye(t);t.from!==void 0?a=e.modelValue.filter(s=>s.from!==void 0?s.from!==n.from&&s.to!==n.to:!0):a=e.modelValue.filter(s=>s!==n),a.length===0&&(a=null)}ee(a,"remove",t)}function it(t,a,n){const s=B.value.concat(p.value).map(d=>Ye(d,t,a)).filter(d=>d.from!==void 0?d.from.dateHash!==null&&d.to.dateHash!==null:d.dateHash!==null);v("update:modelValue",(e.multiple===!0?s:s[0])||null,n)}function jt(){if(e.minimal!==!0)return m("div",{class:"q-date__header "+_.value},[m("div",{class:"relative-position"},[m(He,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+Ze.value,class:"q-date__header-subtitle q-date__header-link "+(H.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...w("vY",{onClick(){H.value="Years"},onKeyup(t){t.keyCode===13&&(H.value="Years")}})},[Ze.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(He,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+de.value,class:"q-date__header-title-label q-date__header-link "+(H.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...w("vC",{onClick(){H.value="Calendar"},onKeyup(t){t.keyCode===13&&(H.value="Calendar")}})},[de.value]))]),e.todayBtn===!0?m(te,{class:"q-date__header-today self-start",icon:h.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:f.value,onClick:Pe}):null])])}function at({label:t,type:a,key:n,dir:s,goTo:d,boundaries:S,cls:g}){return[m("div",{class:"row items-center q-date__arrow"},[m(te,{round:!0,dense:!0,size:"sm",flat:!0,icon:_e.value[0],tabindex:f.value,disable:S.prev===!1,...w("go-#"+a,{onClick(){d(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+g},[m(He,{name:"q-transition--jump-"+s},()=>m("div",{key:n},[m(te,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:f.value,...w("view#"+a,{onClick:()=>{H.value=a}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(te,{round:!0,dense:!0,size:"sm",flat:!0,icon:_e.value[1],tabindex:f.value,disable:S.next===!1,...w("go+#"+a,{onClick(){d(1)}})})])]}const $t={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},at({label:V.value.months[o.value.month-1],type:"Months",key:o.value.month,dir:ue.value,goTo:r,boundaries:je.value.month,cls:" col"}).concat(at({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:D,boundaries:je.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Te.value.map(t=>m("div",{class:"q-date__calendar-item"},[m("div",t)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(He,{name:"q-transition--slide-"+ue.value},()=>m("div",{key:Q.value,class:"q-date__calendar-days fit"},fe.value.map(t=>m("div",{class:t.classes},[t.in===!0?m(te,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:f.value,...w("day#"+t.i,{onClick:()=>{At(t.i)},onMouseover:()=>{Ft(t.i)}})},t.event!==!1?()=>m("div",{class:"q-date__event bg-"+t.event}):null):m("div",""+t.i)]))))])])],Months(){const t=o.value.year===x.value.year,a=s=>A.value!==null&&o.value.year===A.value.year&&A.value.month>s||F.value!==null&&o.value.year===F.value.year&&F.value.month<s,n=V.value.monthsShort.map((s,d)=>{const S=o.value.month===d+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(te,{class:t===!0&&x.value.month===d+1?"q-date__today":null,flat:S!==!0,label:s,unelevated:S,color:S===!0?J.value:null,textColor:S===!0?U.value:null,tabindex:f.value,disable:a(d+1),...w("month#"+d,{onClick:()=>{j(d+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(m("div",{class:"row no-wrap full-width"},[at({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:D,boundaries:je.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=se.value,a=t+ge,n=[],s=d=>A.value!==null&&A.value.year>d||F.value!==null&&F.value.year<d;for(let d=t;d<=a;d++){const S=o.value.year===d;n.push(m("div",{class:"q-date__years-item flex flex-center"},[m(te,{key:"yr"+d,class:x.value.year===d?"q-date__today":null,flat:!S,label:d,dense:!0,unelevated:S,color:S===!0?J.value:null,textColor:S===!0?U.value:null,tabindex:f.value,disable:s(d),...w("yr#"+d,{onClick:()=>{C(d)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(te,{round:!0,dense:!0,flat:!0,icon:_e.value[0],tabindex:f.value,disable:s(t),...w("y-",{onClick:()=>{se.value-=ge}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},n),m("div",{class:"col-auto"},[m(te,{round:!0,dense:!0,flat:!0,icon:_e.value[1],tabindex:f.value,disable:s(a),...w("y+",{onClick:()=>{se.value+=ge}})})])])}};function At(t){const a={...o.value,day:t};if(e.range===!1){K(a,Q.value);return}if(Z.value===null){const n=fe.value.find(d=>d.fill!==!0&&d.i===t);if(e.noUnset!==!0&&n.range!==void 0){tt({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){tt(a);return}const s=ne(a);Z.value={init:a,initHash:s,final:a,finalHash:s},v("rangeStart",b(a))}else{const n=Z.value.initHash,s=ne(a),d=n<=s?{from:Z.value.init,to:a}:{from:a,to:Z.value.init};Z.value=null,et(n===s?a:{target:a,...d}),v("rangeEnd",{from:b(d.from),to:b(d.to)})}}function Ft(t){if(Z.value!==null){const a={...o.value,day:t};Object.assign(Z.value,{final:a,finalHash:ne(a)})}}return Object.assign(c,{setToday:Pe,setView:Qe,offsetCalendar:Ke,setCalendarTo:me,setEditingRange:he}),()=>{const t=[m("div",{class:"q-date__content col relative-position"},[m(He,{name:"q-transition--fade"},$t[H.value])])],a=wt(u.default);return a!==void 0&&t.push(m("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&N(t,"push"),m("div",{class:ce.value,...ke.value},[jt(),m("div",{ref:P,class:"q-date__main col column",tabindex:-1},t)])}}});export{oa as Q,ra as a};
